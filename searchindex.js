Search.setIndex({"docnames": ["0_intro", "README-draft", "notebooks/1_Getting_Started", "notebooks/2_DEM_Preprocessing", "notebooks/3_Pour_Point_Extraction", "notebooks/4_Basin_Delineation", "notebooks/5_Attribute_Extraction", "notebooks/6_Postgres"], "filenames": ["0_intro.md", "README-draft.md", "notebooks/1_Getting_Started.ipynb", "notebooks/2_DEM_Preprocessing.ipynb", "notebooks/3_Pour_Point_Extraction.ipynb", "notebooks/4_Basin_Delineation.ipynb", "notebooks/5_Attribute_Extraction.ipynb", "notebooks/6_Postgres.ipynb"], "titles": ["BC Ungauged Basin Database (BCUB)", "BC Ungauged Basin Database", "1. Getting Started", "2. Digital Elevation Preprocessing", "3. Pour Point Extraction", "4. Basin Delineation", "5. Basin Attribute Extraction", "6. Basin Attribute Extraction - Postgres + PostGIS Method"], "terms": {"The": [0, 1, 2, 3, 4, 6], "pour": [0, 1, 3, 5, 6, 7], "point": [0, 1, 2, 3, 5, 6, 7], "dataset": [0, 1, 2, 3, 6, 7], "appear": [0, 4], "abov": [0, 1, 2, 4, 6], "like": [0, 2, 3, 5], "black": [0, 3], "pointil": 0, "dot": 0, "while": [0, 3, 4], "exist": [0, 2, 3, 4, 5, 6], "histor": 0, "streamflow": [0, 1], "monitor": [0, 1, 6, 7], "station": 0, "ar": [0, 1, 2, 3, 4, 5, 6, 7], "green": [0, 4], "british": [0, 1, 2], "columbia": [0, 1, 2], "intend": [0, 1], "support": [0, 1], "water": [0, 1, 6], "resourc": [0, 1, 4, 7], "research": [0, 1], "name": [0, 1, 2, 4], "optim": [0, 1], "network": [0, 1], "There": [0, 1, 4], "sever": [0, 1, 3, 6], "wai": [0, 1], "us": [0, 1, 2, 3, 4, 5, 6, 7], "inform": [0, 1, 2, 4, 6, 7], "provid": [0, 1, 2, 3, 7], "thi": [0, 1, 2, 3, 4, 5, 6, 7], "repositori": [0, 1], "A": [0, 1, 4, 6], "minim": [0, 1, 6], "contain": [0, 1, 2, 7], "attribut": [0, 1, 4], "nearli": [0, 1], "1": [0, 1, 3, 4, 5, 6], "million": [0, 1, 3], "around": [0, 1, 4], "file": [0, 1, 3, 4, 6, 7], "doe": [0, 1, 4], "polygon": [0, 1, 2, 3, 4, 6, 7], "sinc": [0, 1, 3, 4], "requir": [0, 1, 2, 4], "veri": [0, 1, 4], "larg": [0, 1, 4, 5, 6, 7], "disk": [0, 1, 5], "space": [0, 1, 3, 5], "we": [0, 1, 2, 3, 4, 5, 6, 7], "cannot": [0, 1], "host": [0, 1], "data": [0, 1, 2, 3, 4, 5, 7], "an": [0, 1, 2, 3, 4, 5], "expand": [0, 1], "set": [0, 1, 3, 4, 5, 6, 7], "compress": [0, 1], "parquet": [0, 1, 5], "plu": [0, 1], "accompani": [0, 1], "total": [0, 1, 4, 5, 6], "approxim": [0, 1, 6], "60": [0, 1, 4, 5], "gb": [0, 1, 5], "notebook": [0, 1, 2, 3, 4, 6, 7], "demonstr": [0, 1, 4], "complet": [0, 1, 7], "process": [0, 1, 2, 3, 4, 5, 6, 7], "gener": [0, 1, 3, 4, 5, 7], "purpos": [0, 1, 4], "extract": [0, 1, 3], "carri": [0, 1, 4, 5, 7], "out": [0, 1, 3, 4, 5, 6, 7], "smaller": [0, 1, 4, 5], "region": [0, 1, 4, 5, 6, 7], "vancouv": [0, 1, 2, 3, 4, 5, 6, 7], "island": [0, 1, 2, 3, 4, 5, 6, 7], "how": [0, 4, 6], "do": [0, 3, 4, 6], "i": [0, 2, 3, 4, 6, 7], "other": [0, 4, 5, 7], "get": [0, 1, 3, 5, 6], "error": [0, 2], "x": [0, 2, 3, 4], "fix": [0, 6], "you": [0, 2, 3, 4, 5, 6], "welcom": 0, "start": [0, 1, 5], "discuss": [0, 2], "github": [0, 6], "repo": 0, "can": [0, 2, 3, 4, 5, 6, 7], "contribut": 0, "bring": 0, "up": [0, 2, 3, 4, 5, 7], "idea": [0, 4], "go": [0, 3, 6], "ahead": [0, 2], "make": [0, 3], "pull": [0, 2], "request": 0, "all": [0, 2, 4, 5, 6, 7], "code": [0, 3, 4], "creat": [0, 2, 3, 4, 5, 6, 7], "from": [0, 2, 3, 4, 5, 6, 7], "under": [0, 1, 2, 4], "creativ": 0, "common": [0, 5], "4": [0, 4, 6], "0": [0, 2, 3, 4, 5, 6], "intern": 0, "see": [1, 2, 3, 4], "readm": 1, "md": 1, "doc": 1, "content": [1, 2, 3, 4], "setup_script": 1, "In": [2, 3, 4, 6], "instal": 2, "python": 2, "librari": [2, 3], "usg": [2, 3, 6], "map": [2, 4, 5, 6], "applic": 2, "programmat": 2, "bcub": [2, 3, 4, 6, 7], "databas": [2, 6, 7], "wa": [2, 3, 4, 6], "develop": [2, 6], "program": 2, "languag": 2, "version": 2, "3": [2, 6], "10": [2, 4, 5, 6], "ha": [2, 3, 4], "number": [2, 3, 4, 5], "depenc": 2, "which": [2, 3, 4, 6, 7], "txt": 2, "ubuntu": 2, "linux": 2, "window": [2, 4], "mac": 2, "much": 2, "differ": 2, "howev": 2, "should": [2, 3, 6], "expect": [2, 6], "some": [2, 3, 4, 7], "run": [2, 3, 5, 6], "hardwar": [2, 3], "softwar": 2, "disagr": [2, 4], "upon": [2, 3, 7], "your": [2, 3, 7], "combin": [2, 4, 7], "os": [2, 3, 4, 5, 6], "ymmv": 2, "herein": 2, "packag": 2, "pip": 2, "togeth": 2, "varieti": 2, "sourc": [2, 6], "signific": 2, "effort": 2, "aquir": 2, "It": [2, 3, 4], "recommend": 2, "new": [2, 3, 4, 5], "virtual": [2, 3], "assum": [2, 6], "user": 2, "familiar": [2, 3], "conda": 2, "virtualenv": 2, "basic": 2, "first": [2, 5, 6], "step": [2, 3, 4, 6], "our": [2, 4], "basin": [2, 3, 4], "geometri": [2, 3, 5, 6], "repres": [2, 3, 4], "studi": 2, "area": [2, 3, 4, 5, 6], "retriev": [2, 4, 5], "digit": 2, "elev": [2, 4, 6], "section": 2, "3d": 2, "north": [2, 6, 7], "america": 2, "roughli": [2, 3, 6], "30m": 2, "resolut": [2, 3, 4, 5, 6], "ve": 2, "found": [2, 4, 7], "describ": [2, 3, 4, 6], "about": [2, 3], "32": 2, "000": 2, "km": [2, 3, 4, 5, 6], "2": [2, 4, 5, 6], "If": [2, 3, 5], "geograph": [2, 6], "cr": [2, 3, 4, 5, 6], "epsg": [2, 3, 4, 5, 6], "4269": 2, "4326": [2, 6], "look": [2, 3, 4], "bit": 2, "skew": 2, "imag": [2, 3, 4], "below": [2, 3, 4, 6, 7], "left": [2, 4], "project": [2, 3, 4, 6], "equal": [2, 6], "bc": [2, 3], "alber": [2, 3], "3005": [2, 3, 4, 5, 6], "take": [2, 3, 5, 6], "more": [2, 3, 4, 6], "spatial": [2, 4, 6, 7], "form": [2, 3, 4], "right": 2, "let": [2, 3, 4], "s": [2, 3, 4, 5, 6], "try": [2, 3, 6], "load": [2, 3, 4, 5, 6], "save": [2, 4, 6], "geojson": [2, 3, 4, 5, 6, 7], "format": [2, 4, 5, 6, 7], "region_polygon": [2, 3, 4, 6], "vancouver_island": [2, 3, 4, 5, 6], "import": [2, 3, 5, 6], "geopanda": [2, 3, 4, 5, 6], "gpd": [2, 3, 4, 5, 6], "base_dir": [2, 3, 4, 5, 6], "getcwd": [2, 3, 4, 5, 6], "polygon_path": [2, 4, 5, 6], "path": [2, 3, 4, 5, 6], "join": [2, 3, 4, 5, 6], "df": [2, 6], "read_fil": [2, 3, 4, 5, 6], "did": 2, "modulenotfound": 2, "so": [2, 3, 4, 6], "mean": [2, 6], "need": [2, 3, 4, 5, 6], "done": 2, "one": [2, 3, 4], "encount": 2, "e": [2, 3, 4, 5, 6], "Or": 2, "onc": [2, 7], "command": [2, 3, 6], "r": 2, "visit": 2, "tnm": 2, "product": [2, 3], "3dep": [2, 3, 6], "tab": 2, "hand": 2, "side": 2, "draw": 2, "click": 2, "search": 2, "yield": [2, 3, 6], "16": [2, 6], "correspond": [2, 4, 6], "intersect": [2, 4, 5, 6], "box": 2, "next": [2, 3, 4, 6], "collaps": 2, "option": 2, "csv": [2, 6], "link": [2, 6], "alreadi": [2, 4, 5, 6], "been": [2, 4, 5], "folder": [2, 4, 6], "now": [2, 3, 6], "panda": [2, 4, 5, 6], "pd": [2, 4, 5, 6], "dirnam": [2, 3, 4, 6], "gone": 2, "preview": 2, "tabl": [2, 4, 6, 7], "14th": 2, "column": [2, 4], "index": [2, 4, 6], "tif": [2, 3, 4, 5, 6], "links_path": 2, "download_link": 2, "read_csv": 2, "header": 2, "none": [2, 3, 4], "usecol": 2, "14": [2, 6], "where": [2, 3, 4], "local": [2, 3, 7], "save_path": 2, "dem_path": 2, "mkdir": [2, 4, 5, 6], "def": [2, 5, 6], "download_fil": 2, "specifi": [2, 6], "directori": 2, "filenam": 2, "split": [2, 3, 4, 5], "f": [2, 3, 4, 5, 6], "wget": 2, "p": [2, 5, 6], "out_path": 2, "print": [2, 3, 4, 5, 6], "system": [2, 3, 4, 6, 7], "_": [2, 3, 4, 5, 6], "row": [2, 4, 6], "iterrow": [2, 4, 6], "valu": [2, 3, 4, 5, 6], "rioxarrai": [2, 3], "its": [2, 3, 4], "properti": 2, "rxr": [2, 3], "dem_fil": [2, 3], "listdir": [2, 3, 5, 6], "test_fil": 2, "open_rasterio": [2, 3], "y": [2, 4], "coordin": [2, 4, 6], "decim": [2, 3, 6], "degre": [2, 3, 6], "follow": [2, 4], "rio": [2, 3, 4, 5, 6], "to_epsg": 2, "build": 2, "raster": [2, 3, 5, 6, 7], "vrt": [2, 3], "enabl": 2, "oper": [2, 5, 7], "mosaic": 2, "vrt_path": [2, 3], "usgs_3dep_mosaic_4269": [2, 3], "vrt_command": 2, "gdalbuildvrt": 2, "highest": 2, "a_sr": 2, "fail": [2, 6], "check": [2, 3, 4, 5, 6], "ensur": [2, 6], "have": [2, 3, 4, 5, 6], "For": [2, 4, 5], "maco": 2, "tutori": [2, 3], "mai": [2, 3, 4, 7], "level": [2, 6], "sudo": 2, "apt": 2, "libgdal": 2, "dev": 2, "ll": [3, 4, 5], "merg": [3, 4, 6], "tile": 3, "them": [3, 5], "whitebox": [3, 5], "ultim": 3, "delin": [3, 4, 7], "arcgi": 3, "qgi": 3, "those": 3, "tool": 3, "prefer": 3, "d8": [3, 4], "util": [3, 4, 5, 6], "dem_dir": [3, 6], "endswith": [3, 5], "open": [3, 4, 5, 6], "sampl": [3, 5, 6], "dem_fpath": [3, 6], "affin": [3, 4, 6], "retrieve_rast": [3, 4, 5, 6], "dem_resolut": 3, "dx": [3, 4, 6], "dy": [3, 4, 6], "int": [3, 4, 5], "ab": [3, 4, 5, 6], "m": [3, 4, 6], "don": [3, 4, 5], "t": [3, 4, 5], "end": [3, 6, 7], "comput": 3, "ocean": 3, "surround": 3, "identifi": [3, 4], "river": [3, 4], "drain": 3, "mask_path": 3, "output_dem_path": [3, 6], "vancouver_island_": 3, "mask": [3, 6], "gtype": 3, "geom_typ": [3, 4, 5], "is_valid": [3, 6], "valid": [3, 5], "shorelin": [3, 4], "function": [3, 4, 5, 6], "minut": [3, 6], "depend": [3, 7], "note": [3, 4, 6], "result": [3, 4], "1gb": 3, "variou": 3, "1x": 3, "ram": [3, 5, 7], "gdalwarp": [3, 6], "s_sr": [3, 6], "cutlin": [3, 6], "cl": [3, 6], "crop_to_cutlin": [3, 6], "multi": [3, 6], "gtiff": [3, 6], "wo": [3, 6], "num_thread": [3, 6], "all_cpu": [3, 6], "work": [3, 4, 5, 6, 7], "distanc": [3, 4, 6], "want": [3, 4, 6], "specif": [3, 4], "locat": [3, 4], "here": [3, 4, 5, 6], "reproject": [3, 4, 6], "pixel": [3, 4, 6], "low": 3, "re": [3, 6], "new_cr": 3, "dem_path_reproject": 3, "replac": [3, 5, 6], "lr": 3, "true": [3, 4, 5, 6], "default": [3, 4], "to_rast": 3, "lr_shape": 3, "shape": [3, 4, 5, 6], "n_pix": 3, "img": 3, "2e": 3, "els": [3, 4, 5, 6], "fname": 3, "skip": [3, 6], "plot": 3, "colour": 3, "time": [3, 4, 5, 6], "200": [3, 4], "feel": 3, "free": 3, "past": 3, "cell": [3, 4, 5, 6], "rasterio": 3, "show": [3, 4], "unprocess": 3, "pit": [3, 6], "depress": [3, 6], "prevent": [3, 4], "resolv": 3, "fill": [3, 6], "surfac": [3, 4], "base": 3, "each": [3, 4, 5, 6], "lowest": 3, "neighbour": 3, "pointer": [3, 4], "upstream": 3, "hillslop": 3, "threshold": [3, 4], "realiti": 3, "factor": 3, "vari": 3, "issu": [3, 6], "googl": 3, "colab": 3, "wbt": [3, 5], "whiteboxtool": [3, 5], "chang": [3, 4, 6, 7], "detail": [3, 4, 6], "log": [3, 6], "verbos": [3, 5], "fals": [3, 4, 5], "absolut": 3, "url": 3, "full": [3, 5], "home": [3, 4], "danbot": [3, 4], "document": [3, 4], "23": [3, 4], "oppos": 3, "rel": [3, 4], "filepath": 3, "filled_dem_path": 3, "_fill": 3, "fill_depress": 3, "fix_flat": 3, "flat_incr": 3, "max_depth": 3, "callback": [3, 5], "d8_pointer_path": 3, "vancouver_island_d8_point": 3, "d8_pointer": 3, "esri_pntr": [3, 5], "acc_path": [3, 4], "vancouver_island_acc": 3, "d8_flow_accumul": 3, "out_typ": 3, "pntr": 3, "befor": 3, "calcul": [3, 6], "sure": 3, "otherwis": [3, 6], "measur": [3, 4], "express": [3, 6], "just": [3, 4, 6], "over": [3, 6, 7], "2000": [3, 4], "0f": [3, 4, 5, 6], "1e6": [3, 4], "streams_path": 3, "vancouver_island_stream": 3, "extract_stream": 3, "zero_background": 3, "final": [3, 6], "exampl": [3, 4], "deriv": [3, 4, 5, 6], "mostli": 3, "thei": [3, 4, 6, 7], "far": [3, 4], "perfect": 3, "figur": 3, "diverg": 3, "watercours": [3, 4], "defin": 3, "nation": [3, 4], "hydrograph": [3, 4], "nhn": [3, 4], "filter": 3, "squar": 3, "chapter": 3, "light": [3, 4], "blue": [3, 4], "layer": [3, 4, 5, 6, 7], "previou": [4, 6, 7], "input": [4, 5], "waterbodi": 4, "remov": [4, 5, 6], "within": [4, 6], "remain": 4, "serv": 4, "were": 4, "pre": 4, "origin": [4, 6], "cover": 4, "canada": 4, "download": 4, "select": 4, "vancouver_island_lak": 4, "produc": [4, 6], "shown": 4, "yellow": 4, "illustr": 4, "discontinu": 4, "due": 4, "screen": 4, "dem_fold": 4, "dem": [4, 5, 6, 7], "clariti": 4, "releg": 4, "separ": 4, "To": 4, "py": [4, 6], "pour_pt_path": 4, "pour_point": [4, 5], "d8_path": 4, "_d8_pointer": [4, 5], "_acc": 4, "stream_path": 4, "_stream": 4, "stream_rast": 4, "stream_cr": 4, "22x22m": 4, "minimum": [4, 5], "5": [4, 5], "limit": [4, 5, 7], "sake": 4, "min_basin_area": [4, 5], "min": [4, 5], "compris": 4, "basin_threshold": 4, "10103": 4, "numpi": [4, 5, 6], "np": [4, 5, 6], "rt0": 4, "fdir": 4, "acc": 4, "matrix": 4, "rt1": 4, "1f": [4, 5, 6], "8": [4, 6], "5s": 4, "list": [4, 5, 6], "indic": [4, 5], "stream_px": 4, "argwher": [4, 6], "dictionari": [4, 6], "potenti": 4, "iter": [4, 6], "through": [4, 6], "3x3": 4, "than": 4, "toward": 4, "ppt": [4, 5], "nn": 4, "j": [4, 6], "c_idx": 4, "outlet": 4, "definit": 4, "especi": 4, "preval": 4, "coastal": 4, "focus_cell_acc": 4, "focus_cell_dir": 4, "focu": 4, "nan": [4, 6], "also": 4, "conf": 4, "boolean": [4, 6], "centr": 4, "s_w": 4, "max": [4, 5], "copi": [4, 6], "f_w": 4, "focal": 4, "f_m": 4, "mask_flow_direct": 4, "target": 4, "check_for_conflu": 4, "convert": [4, 5], "geodatafram": [4, 5], "same": [4, 6], "output_ppt_path": 4, "_ppt": 4, "t0": [4, 5, 6], "ppt_df": 4, "datafram": [4, 5, 6], "from_dict": 4, "orient": 4, "cell_idx": [4, 5], "reset_index": [4, 5], "inplac": [4, 5], "str": 4, "ix": 4, "jx": 4, "len": [4, 5, 6], "22560": 4, "n_pts_tot": 4, "n_pts_conf": 4, "n_pts_outlet": 4, "Of": 4, "100": 4, "934567": 4, "21044": 4, "1516": 4, "thu": 4, "onli": 4, "still": 4, "appli": 4, "transform": [4, 6], "ppt_gdf": [4, 5], "create_pour_point_gdf": 4, "chunk": 4, "0s": 4, "20": [4, 5], "1s": [4, 6], "30": [4, 6], "40": 4, "2s": 4, "50": 4, "70": 4, "3s": [4, 6], "80": 4, "90": [4, 6], "4s": 4, "in0": 4, "ta": 4, "match": 4, "to_cr": [4, 6], "4617": 4, "tb": 4, "2f": [4, 5, 6], "One": 4, "vestig": 4, "lot": 4, "fall": 4, "netowork": 4, "perman": 4, "unknown": 4, "avail": 4, "intermitt": 4, "water_definit": 4, "label": [4, 5, 6], "No": 4, "type": 4, "canal": 4, "artifici": 4, "navig": 4, "waterwai": 4, "channel": 4, "conduit": 4, "aqueduct": 4, "penstock": 4, "flume": 4, "sluic": 4, "design": 4, "drainag": [4, 6], "ditch": 4, "small": 4, "manmad": 4, "construct": 4, "earth": 4, "rock": 4, "convei": 4, "inland": 4, "consider": 4, "reservoir": 4, "wholli": 4, "partial": [4, 5], "featur": [4, 6], "store": 4, "regul": 4, "control": 4, "6": [4, 5, 6], "tidal": 4, "7": [4, 6], "affect": 4, "tide": 4, "liquid": 4, "wast": 4, "industri": 4, "complex": 4, "though": 4, "season": 4, "darker": 4, "grei": 4, "read": 4, "region_lakes_path": 4, "_lake": 4, "lakes_df": 4, "c": [4, 6], "index_right": 4, "index_left": 4, "assert": [4, 5, 6], "subject": 4, "criteria": 4, "improv": [4, 6], "perform": [4, 5, 6, 7], "discoveri": 4, "01": [4, 6], "speed": 4, "order": [4, 5], "reloc": 4, "mouth": 4, "buffer": [4, 5, 6], "simplifi": [4, 5], "smooth": 4, "reduc": 4, "heavili": 4, "braid": 4, "headwat": 4, "aren": 4, "too": [4, 5], "close": 4, "proxim": 4, "nearest": 4, "cross": 4, "line": [4, 6], "interpol": 4, "few": [4, 6], "miss": [4, 6], "when": [4, 6, 7], "paramet": [4, 6], "consid": 4, "simplif": 4, "elimin": 4, "vertic": 4, "must": 4, "enough": [4, 7], "10000": 4, "lakes_filt": 4, "lake_ppt": 4, "sjoin": 4, "predic": 4, "filtered_ppt": 4, "isna": 4, "19184": 4, "3376": 4, "least": 4, "lakes_with_pt": 4, "filtered_lak": 4, "uniqu": [4, 5, 6], "id": [4, 6], "lake_id": 4, "isin": 4, "contigu": 4, "adjac": 4, "unary_union": 4, "explod": 4, "index_part": 4, "drop": [4, 5, 6], "311": 4, "shift": 4, "method": [4, 6], "best": 4, "align": 4, "well": [4, 5, 7], "unnecessari": 4, "good": 4, "bad": 4, "behaviour": 4, "ad": 4, "being": 4, "unintent": 4, "geometr": [4, 6], "manipul": 4, "modifi": 4, "address": 4, "case": 4, "op": 4, "n": [4, 6], "tot_pt": 4, "min_acc_cel": 4, "points_to_check": 4, "group": [4, 6], "give": 4, "slight": 4, "lake_geom": 4, "multipolygon": [4, 6], "keep": [4, 5, 6], "main": 4, "remaind": 4, "area_1": 4, "loc": [4, 6], "idxmax": 4, "continu": [4, 6], "resampl": 4, "vector": [4, 5, 6], "resampled_shorelin": 4, "redistribute_vertic": [4, 5], "exterior": 4, "coord": 4, "xy": 4, "xs": 4, "tolist": 4, "ys": 4, "closest": 4, "edg": 4, "px_pt": 4, "sel": 4, "toler": 4, "latlon": 4, "zip": [4, 5, 6], "acc_val": 4, "squeez": 4, "item": 4, "298": 4, "582": 4, "150": 4, "942": 4, "1285": 4, "250": 4, "1741": 4, "300": 4, "2011": 4, "2078": 4, "all_pt": 4, "inp": 4, "pt": [4, 5], "both": [4, 6], "avoid": [4, 5, 6], "pt_dist": 4, "width": 4, "min_spac": 4, "dist_check": 4, "accum_check": 4, "accum": 4, "95": 4, "max_acc": 4, "ani": [4, 6], "not_in_any_lak": 4, "sum": [4, 6], "lg": 4, "append": [4, 5, 6], "500": 4, "750": 4, "1000": 4, "1250": 4, "1500": 4, "1750": 4, "rpt": 4, "all_pts_filt": 4, "dist": 4, "ptg": 4, "refer": 4, "updat": [4, 5, 6], "against": 4, "concat": [4, 5], "1668": 4, "400": 4, "600": 4, "800": 4, "1200": 4, "1400": 4, "1600": 4, "output": [4, 5, 6], "new_pt": 4, "axi": [4, 5], "to_fil": [4, 5, 6], "_pour_points3": 4, "12": [5, 6], "computation": 5, "intens": 5, "unnest_basin": 5, "realli": 5, "written": 5, "rust": 5, "mani": 5, "implicitli": 5, "care": 5, "paralel": 5, "effici": 5, "manag": [5, 7], "usag": 5, "stream": 5, "multiprocess": 5, "mp": 5, "make_valid": [5, 6], "raster_to_vector_basins_batch": 5, "send": 5, "huge": 5, "temporari": 5, "could": 5, "easili": 5, "exce": 5, "ssd": 5, "capac": 5, "raster_fnam": 5, "raster_cr": 5, "min_area": 5, "temp_fold": 5, "raster_path": 5, "raster_no": 5, "temp_polygons_": 5, "05": [5, 6], "shp": 5, "non": 5, "overlap": 5, "raster_to_vector_polygon": 5, "gdf": [5, 6], "self": 5, "simplify_dim": 5, "sqrt": [5, 6], "buffer_dim": 5, "filter_and_explode_geom": 5, "return": [5, 6], "fdir_path": 5, "size": [5, 6], "mb": 5, "files": 5, "getsiz": 5, "temp_dir": 5, "temp": 5, "ppt_dir": 5, "basin_output_dir": 5, "d": [5, 6], "match_ppt_to_polygons_by_ord": 5, "check_for_ppt_batch": 5, "create_ppt_file_batch": 5, "clean_up_temp_fil": 5, "region_rast": 5, "region_raster_cr": 5, "raster_resolut": 5, "tupl": 5, "break": 5, "duplic": 5, "ppt_file": 5, "_pour_point": 5, "ppt_cr": 5, "drop_dupl": 5, "subset": [5, 7], "ignore_index": 5, "allow": 5, "track": [5, 6], "output_fpath": 5, "_basin": 5, "batch_dir": 5, "ppt_batch": 5, "batches_exist": 5, "temp_ppt_filepath": 5, "batch_ppt_path": 5, "batch_ppt_fil": 5, "sort": 5, "n_batch_fil": 5, "batch_output_fil": 5, "startswith": 5, "batch_match": 5, "b": [5, 6], "basin_output_fil": 5, "ppt_batch_path": 5, "t_batch_start": 5, "batch_no": 5, "temp_fnam": 5, "temp_rast": 5, "temp_basin_raster_path": 5, "batch_output_fpath": 5, "04d": 5, "default_callback": 5, "batch_rast": 5, "tb1": 5, "sub": 5, "parallel": 5, "crs_arrai": 5, "min_a_arrai": 5, "batch_raster_fpath": 5, "resolution_arrai": 5, "temp_folder_arrai": 5, "path_input": 5, "batch_size_gb": 5, "1e3": 5, "processor": 5, "core": 5, "multipl": 5, "balanc": 5, "estim": 5, "n_proc": 5, "pool": 5, "trv0": 5, "all_polygon": 5, "trv1": 5, "trc0": 5, "batch_polygon": 5, "maintain": 5, "unnest": 5, "sort_valu": 5, "trc1": 5, "delet": 5, "yet": 5, "directli": [5, 7], "concatenat": 5, "basin_fil": 5, "batch_df": 5, "fpath": [5, 6], "all_data": 5, "gpkg": [5, 6], "driver": 5, "t_n": 5, "n_processed_basin": 5, "ut": [5, 6], "american": [6, 7], "latifovic2010north": 6, "2010": [6, 7], "2015": [6, 7], "2020": [6, 7], "captur": 6, "geospati": [6, 7], "soil": 6, "terrain": 6, "trim": 6, "isol": 6, "numba": 6, "jit": 6, "scipi": 6, "stat": 6, "mstat": 6, "gmean": 6, "coverag": 6, "crop": 6, "interest": 6, "nalcms_fpath": 6, "nalcms_fil": 6, "nalcms_rast": 6, "nalcms_cr": 6, "nalcms_affin": 6, "48": 6, "syntaxerror": 6, "invalid": 6, "syntax": 6, "year": 6, "_3005": 6, "output_fold": 6, "geospatial_lay": 6, "nalcms_": 6, "global": 6, "hydrogeolog": 6, "sp2_ttjniu_2018": 6, "permeabl": 6, "poros": 6, "necessari": 6, "glhymps_path": 6, "gldf": 6, "glhymps_output_path": 6, "glhymps_": 6, "batch": [6, 7], "last": 6, "most": 6, "hopefulli": 6, "clear": 6, "basins_fold": 6, "basins_df": 6, "metadata": 6, "catchment": 6, "descript": 6, "aggreg": 6, "unit": 6, "geom": 6, "deg": 6, "centroid": 6, "flag": 6, "lulc_check": 6, "binari": 6, "drainage_area_km2": 6, "elevation_m": 6, "sea": 6, "slope": 6, "slope_deg": 6, "circ": 6, "aspect": 6, "aspect_deg": 6, "circular": 6, "cropland": 6, "land_use_crops_frac_": 6, "forest": 6, "land_use_forest_frac_": 6, "grassland": 6, "land_grass_forest_frac_": 6, "shrub": 6, "land_use_shrubs_frac_": 6, "snow": 6, "ic": 6, "land_use_snow_ice_frac_": 6, "urban": 6, "land_use_urban_frac_": 6, "land_use_water_frac_": 6, "wetland": 6, "land_use_wetland_frac_": 6, "permeability_logk_m2": 6, "porosity_frac": 6, "wsg84": 6, "counter": 6, "clockwis": 6, "east": 6, "suffix": 6, "lulc": 6, "attribute_funct": 6, "clip_raster_to_basin": 6, "check_lulc_sum": 6, "pct": 6, "intuit": 6, "qualiti": 6, "rais": 6, "checksum": 6, "3f": 6, "recategorize_lulc": 6, "land_use_forest_frac": 6, "land_use_shrubs_frac": 6, "11": 6, "grass": 6, "land_use_grass_frac": 6, "9": 6, "13": 6, "land_use_wetland_frac": 6, "land_use_crops_frac": 6, "15": 6, "land_use_urban_frac": 6, "17": 6, "land_use_water_frac": 6, "18": 6, "snow_ic": 6, "land_use_snow_ice_frac": 6, "19": 6, "lulc_dict": 6, "prop_val": 6, "round": 6, "kei": 6, "get_value_proport": 6, "proport": 6, "count": 6, "ratio": 6, "all_val": 6, "flatten": 6, "val": 6, "isnan": 6, "n_pt": 6, "return_count": 6, "prop_dict": 6, "k": 6, "v": 6, "process_lulc": 6, "basin_geom": 6, "basin_polygon": 6, "basin_id": 6, "raster_load": 6, "lu_raster_clip": 6, "verifi": 6, "check_and_repair_geometri": 6, "in_featur": 6, "geodf": 6, "deep": 6, "is_empti": 6, "repair": 6, "broken": 6, "loop": 6, "poli": 6, "except": 6, "valueerror": 6, "process_basin_elev": 6, "clipped_rast": 6, "evalu": 6, "mean_val": 6, "nanmean": 6, "median_v": 6, "nanmedian": 6, "min_val": 6, "nanmin": 6, "max_val": 6, "nanmax": 6, "get_soil_properti": 6, "col": 6, "dissolv": 6, "aggfunc": 6, "shape_area": 6, "calculu": 6, "fraction": 6, "area_frac": 6, "sum_check": 6, "elif": 6, "area_weighted_v": 6, "sign": 6, "neg": 6, "add": 6, "back": 6, "multipli": 6, "tri": 6, "weight": 6, "arithmet": 6, "process_glhymp": 6, "precis": 6, "bound": 6, "distort": 6, "nopython": 6, "process_slope_and_aspect": 6, "el_px": 6, "meaning": 6, "either": 6, "costli": 6, "90x90m": 6, "asdfd": 6, "empty_lik": 6, "tot_p": 6, "tot_q": 6, "e_w": 6, "g": 6, "h": 6, "becaus": 6, "arrai": 6, "val_check": 6, "isfinit": 6, "q": 6, "cell_slop": 6, "180": 6, "pi": 6, "arctan": 6, "arctan2": 6, "calculate_circular_mean_aspect": 6, "ravenpi": 6, "http": 6, "com": 6, "csh": 6, "cwra": 6, "blob": 6, "1b167749cdf5984545f8f79ef7d31246418a3b54": 6, "analysi": 6, "l118": 6, "angl": 6, "sine_mean": 6, "divid": 6, "sin": 6, "radian": 6, "cosine_mean": 6, "co": 6, "vector_mean": 6, "360": 6, "calculate_slope_and_aspect": 6, "accord": 6, "hill": 6, "1981": 6, "arg": 6, "scalar": 6, "asfd": 6, "wkt": 6, "to_wkt": 6, "raster_shap": 6, "rdem_clip": 6, "rd": 6, "rdarrai": 6, "no_data": 6, "nodata": 6, "geotransform": 6, "to_gdal": 6, "ts0": 6, "terrainattribut": 6, "attrib": 6, "slope_degre": 6, "ts2": 6, "asdfsd": 6, "mean_slope_deg": 6, "hundredth": 6, "my": 6, "4f": 6, "rdem": 6, "mean_aspect_deg": 6, "region_dem": 6, "dem_cr": 6, "dem_affin": 6, "test": 6, "slice": 6, "statement": 6, "whole": 6, "n_sampl": 6, "all_basin_data": 6, "basin_data": 6, "iloc": 6, "clip_ok": 6, "clipped_dem": 6, "land_cov": 6, "to_dict": 6, "record": 6, "complat": 6, "permeability_no_permafrost": 6, "mean_el": 6, "median_el": 6, "min_el": 6, "max_el": 6, "t1": 6, "output_fnam": 6, "output_fil": 6, "to_csv": 6, "median": 6, "2018": 6, "intel": 6, "i7": 6, "8850h": 6, "cpu": 6, "60ghz": 6, "proporti": 6, "onal": 6, "3x": 6, "land": 7, "availabel": 7, "better": 7, "high": 7, "volum": 7, "larger": 7, "popul": 7, "geopackag": 7, "memori": 7, "major": 7, "seem": 7, "environ": 7}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"bc": [0, 1], "ungaug": [0, 1], "basin": [0, 1, 5, 6, 7], "databas": [0, 1], "bcub": 0, "introduct": [0, 1], "note": [0, 1], "frequent": 0, "ask": 0, "question": 0, "faq": 0, "licens": 0, "refer": [0, 1, 6], "setup": 1, "1": 2, "get": [2, 4], "start": 2, "depend": 2, "environ": 2, "dem": [2, 3], "acquisit": 2, "url": 2, "list": 2, "download": [2, 6], "cover": [2, 6], "tile": 2, "set": 2, "view": 2, "file": [2, 5], "gdal": 2, "2": 3, "digit": 3, "elev": 3, "preprocess": 3, "clip": [3, 6], "hydraul": 3, "condit": 3, "flow": [3, 4], "direct": [3, 4, 6], "accumul": [3, 4], "stream": [3, 4], "network": [3, 4], "3": 4, "pour": 4, "point": 4, "extract": [4, 6, 7], "import": 4, "raster": 4, "defin": 4, "confluenc": 4, "filter": 4, "spuriou": 4, "water": 4, "bodi": 4, "geometri": 4, "contain": 4, "find": 4, "add": 4, "lake": 4, "inflow": 4, "4": 5, "delin": 5, "concaten": 5, "batch": 5, "polygon": 5, "singl": 5, "geopackag": 5, "option": 5, "5": 6, "attribut": [6, 7], "nalcm": 6, "data": 6, "glhymp": 6, "retriev": 6, "land": 6, "6": 7, "postgr": 7, "postgi": 7, "method": 7, "instal": 7}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})